(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{4299:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>o});var r=a(5155),t=a(2115),l=a(5695),d=a(1783),n=a(8149),c=a(6874),i=a.n(c);function o(){let e=(0,l.useRouter)(),{cart:s,totalPrice:a,clearCart:c}=(0,n._)(),[o,m]=(0,t.useState)({name:"",email:"",phone:"",address:"",city:"",state:"",pincode:""}),[h,x]=(0,t.useState)({}),[p,u]=(0,t.useState)("razorpay"),[b,j]=(0,t.useState)(!1),[y,g]=(0,t.useState)(!1),[N,v]=(0,t.useState)(null);(0,t.useEffect)(()=>{let e=document.createElement("script");return e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.body.appendChild(e),()=>{document.body.removeChild(e)}},[]),(0,t.useEffect)(()=>{0!==s.length||y||e.push("/")},[s,e,y]);let f=e=>{let{name:s,value:a}=e.target;m({...o,[s]:a}),h[s]&&x({...h,[s]:null})},w=()=>{let e={};return o.name||(e.name="Name is required"),o.email?/\S+@\S+\.\S+/.test(o.email)||(e.email="Email is invalid"):e.email="Email is required",o.phone?/^\d{10}$/.test(o.phone)||(e.phone="Phone number should be 10 digits"):e.phone="Phone is required",o.address||(e.address="Address is required"),o.city||(e.city="City is required"),o.state||(e.state="State is required"),o.pincode?/^\d{6}$/.test(o.pincode)||(e.pincode="PIN code should be 6 digits"):e.pincode="PIN code is required",x(e),0===Object.keys(e).length},k=async e=>{if(e.preventDefault(),w()){j(!0);try{await new Promise(e=>setTimeout(e,1e3));let e="ORDER_"+Math.random().toString(36).substring(2,15);if(v(e),"razorpay"===p){let s={key:"rzp_test_YOUR_KEY_HERE",amount:100*a,currency:"INR",name:"Adyant's Fun World",description:"T-shirt purchase",order_id:e,handler:function(e){C(e)},prefill:{name:o.name,email:o.email,contact:o.phone},notes:{address:o.address},theme:{color:"#3B82F6"}};new window.Razorpay(s).open()}else"cod"===p&&C({payment_id:"COD_"+e})}catch(e){console.error("Error during checkout:",e),j(!1)}}},C=e=>{g(!0),c(),j(!1)},S=e=>"₹".concat(e.toLocaleString("en-IN"));return y?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(d.A,{}),(0,r.jsx)("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:(0,r.jsx)("div",{className:"bg-white p-8 rounded-lg shadow-md",children:(0,r.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Order Placed Successfully!"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-6",children:["Thank you for your purchase. Your order #",N," has been placed successfully."]}),(0,r.jsx)(i(),{href:"/",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Continue Shopping"})]})})})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(d.A,{}),(0,r.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Checkout"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Shipping Information"}),(0,r.jsxs)("form",{onSubmit:k,children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-gray-700 mb-1",children:"Full Name"}),(0,r.jsx)("input",{type:"text",id:"name",name:"name",value:o.name,onChange:f,className:"w-full p-2 border rounded-md ".concat(h.name?"border-red-500":"border-gray-300")}),h.name&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-gray-700 mb-1",children:"Email"}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:o.email,onChange:f,className:"w-full p-2 border rounded-md ".concat(h.email?"border-red-500":"border-gray-300")}),h.email&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.email})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"phone",className:"block text-gray-700 mb-1",children:"Phone Number"}),(0,r.jsx)("input",{type:"tel",id:"phone",name:"phone",value:o.phone,onChange:f,className:"w-full p-2 border rounded-md ".concat(h.phone?"border-red-500":"border-gray-300")}),h.phone&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.phone})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"address",className:"block text-gray-700 mb-1",children:"Address"}),(0,r.jsx)("textarea",{id:"address",name:"address",value:o.address,onChange:f,rows:"3",className:"w-full p-2 border rounded-md ".concat(h.address?"border-red-500":"border-gray-300")}),h.address&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.address})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"city",className:"block text-gray-700 mb-1",children:"City"}),(0,r.jsx)("input",{type:"text",id:"city",name:"city",value:o.city,onChange:f,className:"w-full p-2 border rounded-md ".concat(h.city?"border-red-500":"border-gray-300")}),h.city&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.city})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"state",className:"block text-gray-700 mb-1",children:"State"}),(0,r.jsx)("input",{type:"text",id:"state",name:"state",value:o.state,onChange:f,className:"w-full p-2 border rounded-md ".concat(h.state?"border-red-500":"border-gray-300")}),h.state&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.state})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"pincode",className:"block text-gray-700 mb-1",children:"PIN Code"}),(0,r.jsx)("input",{type:"text",id:"pincode",name:"pincode",value:o.pincode,onChange:f,className:"w-full p-2 border rounded-md ".concat(h.pincode?"border-red-500":"border-gray-300")}),h.pincode&&(0,r.jsx)("p",{className:"text-red-500 text-sm mt-1",children:h.pincode})]})]}),(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Payment Method"}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-3",children:[(0,r.jsx)("input",{type:"radio",id:"razorpay",name:"paymentMethod",value:"razorpay",checked:"razorpay"===p,onChange:()=>u("razorpay"),className:"mr-2"}),(0,r.jsxs)("label",{htmlFor:"razorpay",className:"flex items-center",children:[(0,r.jsx)("span",{className:"mr-2",children:"Pay with Razorpay"}),(0,r.jsx)("img",{src:"/images/razorpay-logo.png",alt:"Razorpay",className:"h-6"})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",id:"cod",name:"paymentMethod",value:"cod",checked:"cod"===p,onChange:()=>u("cod"),className:"mr-2"}),(0,r.jsx)("label",{htmlFor:"cod",children:"Cash on Delivery"})]})]}),(0,r.jsx)("div",{className:"border-t pt-4 mt-6",children:(0,r.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",disabled:b,children:b?(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Place Order • ".concat(S(a))})})]})]})}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md sticky top-24",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Order Summary"}),(0,r.jsx)("div",{className:"space-y-4 mb-6",children:s.map((e,s)=>(0,r.jsxs)("div",{className:"flex justify-between pb-4 border-b",children:[(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-md overflow-hidden relative mr-3",children:e.image&&(0,r.jsx)("img",{src:e.image,alt:e.name,className:"object-cover w-full h-full"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,r.jsxs)("p",{className:"text-gray-500 text-xs",children:[e.size&&(0,r.jsxs)("span",{children:["Size: ",e.size]}),e.color&&(0,r.jsxs)("span",{children:[" • Color: ",e.color]}),(0,r.jsxs)("span",{children:[" • Qty: ",e.quantity]})]})]})]}),(0,r.jsx)("p",{className:"font-medium",children:S(e.price*e.quantity)})]},s))}),(0,r.jsxs)("div",{className:"border-t pt-4",children:[(0,r.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,r.jsx)("span",{children:S(a)})]}),(0,r.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,r.jsx)("span",{children:"Free"})]}),(0,r.jsxs)("div",{className:"flex justify-between font-bold text-lg pt-2 border-t",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsx)("span",{children:S(a)})]})]})]})})]})]})})]})}},5695:(e,s,a)=>{"use strict";var r=a(8999);a.o(r,"useRouter")&&a.d(s,{useRouter:function(){return r.useRouter}})},9992:(e,s,a)=>{Promise.resolve().then(a.bind(a,4299))}},e=>{var s=s=>e(e.s=s);e.O(0,[874,766,783,441,684,358],()=>s(9992)),_N_E=e.O()}]);